<!DOCTYPE html>
<html>
  <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <title>Moishe's Blog - Remotes</title>
      <meta name="viewport" content="width=device-width">

      <!-- syntax highlighting CSS -->
      <link rel="stylesheet" href="/css/syntax.css">

      <!-- Custom CSS -->
      <link rel="stylesheet" href="/css/main.css">

      <!-- Responsive CSS -->
      <link rel="stylesheet" href="/css/responsive.css">

      <!-- Google Fonts -->
      <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700' rel='stylesheet' type='text/css'>
      <link href='http://fonts.googleapis.com/css?family=Raleway:300,400,700' rel='stylesheet' type='text/css'>
      <style>
        path:hover {
            opacity:1;
        }

        #code_hierarchy
        {
            float: left;
            width:300px;
            margin:0 auto;
        }
      </style>
      <script src="/dist/d3.v3.js"></script>
      <script lang="text/javascript">

      function init_code_hierarchy_plot(element_id,data,count_function,color_function,title_function,legend_function)
      {
          var plot = document.getElementById(element_id);

          while (plot.hasChildNodes())
          {
              plot.removeChild(plot.firstChild);
          }

          var width = plot.offsetWidth;
          var height = width;
          var x_margin = 40;
          var y_margin = 40;

          var max_depth=3;

          var data_slices = [];
          var max_level = 2;

          var svg = d3.select("#"+element_id).append("svg")
              .attr("width", width)
              .attr("height", height)
              .append("g")
              .attr("transform", "translate(" + width / 2 + "," + height / 2 + ")");

          function process_data(data,level,start_deg,stop_deg,category_name)
          {
              var name = data[0];
              var total = count_function(data);
              var children = data[2];
              var current_deg = start_deg;
              if (level > max_level)
              {
                  return;
              }
              if (start_deg == stop_deg)
              {
                  return;
              }
              if (level > 0) {
                  d = [start_deg,stop_deg,name,level,data[1],category_name ? category_name : name];
                  data_slices.push(d);
              }
              for (var key in children)
              {
                  child = children[key];
                  var inc_deg = (stop_deg-start_deg)/total*count_function(child);
                  var child_start_deg = current_deg;
                  current_deg+=inc_deg;
                  var child_stop_deg = current_deg;
                  var span_deg = child_stop_deg-child_start_deg;
                  process_data(child,level+1,child_start_deg,child_stop_deg,name);
              }
          }

          process_data(data,0,Math.PI*(6.0/7.0),Math.PI*(6.0/7.0) + 360./180.0*Math.PI);

          var ref = data_slices[0];
          var next_ref = ref;
          var last_refs = [];

          var thickness = width/2/(max_level+6)*1.1;

          function radius(level) {
              return (level + 3) * thickness;
          }

          var arc = d3.svg.arc()
          .startAngle(function(d) { if(d[3]==0){return d[0];}return d[0]+0.01; })
          .endAngle(function(d) { if(d[3]==0){return d[1];}return d[1]-0.01; })
          .innerRadius(function(d) { return (radius(d[3])); })
          .outerRadius(function(d) { return (radius(d[3]+0.9)); });

          var innerSlices = svg.selectAll(".form")
              .data(function(d) { return data_slices;})
              .enter()
              .append("g");
              innerSlices.append("path")
              .attr("d", arc)
              .attr("id",function(d,i){return element_id+i;})
              .style("fill", function(d) { return color_function(d);})
              .attr("class","form")
              .attr("opacity", 0.5);
      /*
          var outerSlices = svg.selectAll(".form")
              .data(function(d) { return data_slices.filter(function(d) {return true; d[3] == 2;}); })
              .enter()
              .append("g");
              outerSlices.append("path")
              .attr("d", arc)
              .attr("id",function(d,i){return element_id+i;})
              .style("fill", function(d) { console.log(d); return color_function(d);})
              .attr("class","form");
          var outerArc = d3.svg.arc()
          .startAngle(function(d) { if(d[3]==0){return d[0];}return d[0]+0.01; })
          .endAngle(function(d) { if(d[3]==0){return d[1];}return d[1]-0.01; })
          .innerRadius(function(d) { return 1.2*(d[3]+2)*thickness; })
          .outerRadius(function(d) { return (1.2*(d[3]+2)+1)*thickness; });
      */

          /* ------- TEXT LABELS -------*/
          // Add a legendLabel to each arc slice...
          /*
          innerSlices.append("svg:text")
            .attr("transform", function(d) { //set the label's origin to the center of the arc
              console.log(d);
              return "translate(" + arc.centroid(d) + ")";
            })
            .attr("text-anchor", "middle") //center the text on it's origin
            .style("fill", "Black")
            .style("font", "bold 16px Arial")
            .text(function(d, i) { if (d[3]==1) {return d[2];} else {return '';} }); //get the label from our original data array
          */

          var legend = svg.append("svg:text")
            .attr("text-anchor", "middle")
            .style("fill", "Black")
            .style("font", "bold 16px Arial")
            .text("Feelings");

          if (legend_function != undefined)
          {
              innerSlices.on("mouseover",update_legend)
                    .on("mouseout",remove_legend);

              function update_legend(d)
              {
                  legend.text(legend_function(d));
                  legend.transition().duration(200).style("opacity","1");
              }

              function remove_legend(d)
              {
                  legend.transition().duration(1000).style("opacity","0");
              }
          }
          /*
          function get_start_angle(d,ref)
          {
              if (ref)
              {
                  var ref_span = ref[1]-ref[0];
                  return (d[0]-ref[0])/ref_span*Math.PI*2.0
              }
              else
              {
                  return d[0];
              }
          }
          */

          function get_stop_angle(d,ref)
          {
              if (ref)
              {
                  var ref_span = ref[1]-ref[0];
                  return (d[1]-ref[0])/ref_span*Math.PI*2.0
              }
              else
              {
                  return d[0];
              }
          }

          function get_level(d,ref)
          {
              if (ref)
              {
                  return d[3]-ref[3];
              }
              else
              {
                  return d[3];
              }
          }

          var animating = false;


      }

      function init_plots()
      {
          var sidebar = document.getElementById("sidebar");
          var sidebarButton = document.getElementById("sidebar-button");

          function openSidebar(e) {
            if (sidebar.className.indexOf("slideIn") != -1) {
              sidebar.className = sidebar.className.replace(" slideIn", "");
            } else {
             sidebar.className = sidebar.className + " slideIn";
            }
          }

          sidebarButton.addEventListener("click", openSidebar, false);

          function count_function(d)
          {
              return d[1];
          }

          function label_function(d)
          {
              return d[2]+": "+d[4]+" votes";
          }

          function legend_function(d)
          {
              return d[2];
          }

          var color = d3.scale.category20();

          var color_buckets = {
              'communication': d3.rgb('#FF6103'), // orange
              'productivity': d3.rgb('#FFB90F'), // goldenrod
              'isolation': d3.rgb('#2E0854'), // purple
              'logistics': d3.rgb('#C0FF3E'), // olive
              'nothing': d3.rgb('aaaacc'), // greyish blue
              'pants': d3.rgb('#0000aa'),
              'balance': d3.rgb('#5E2612') // sepia
          }

          function color_function(d)
          {
              if (d[3]==2) {
                  return color_buckets[d[5]];
              } else {
                  return color_buckets[d[2]];
              }
          }
          d3.select(self.frameElement).style("height", "800px");
          init_code_hierarchy_plot("code_hierarchy",code_hierarchy_data,count_function,color_function,label_function,legend_function);
      }

      window.onload = init_plots;
      window.onresize = init_plots;
      </script>
      <script type="text/javascript" src="/dist/data.js"></script>
  </head>
  <body>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-54340831-1', 'auto');
      ga('require', 'displayfeatures');
      ga('send', 'pageview');

    </script>
    <div class="site">
      <div class="sidebar" id="sidebar">
        <div class="header">
          <h1 class="title"><a href="/"><img id="logo" src="/images/logo.png"></a></h1>
          <span class="tagline">Opinions are mine and nobody else's etc</span>
        </div>
        <div class="posts">
          <ul class="posts-list">

              <li class="post-link">
                <a class="post-title" href="/2015/10/14/remotes">
                  <span class="post-date">14 Oct 2015</span>
                  Remotes
                </a>
              </li>

              <li class="post-link">
                <a class="post-title" href="/2015/09/29/bikes-redux">
                  <span class="post-date">29 Sep 2015</span>
                  Bikes in Boulder, Redux
                </a>
              </li>

              <li class="post-link">
                <a class="post-title" href="/2015/06/09/bikes-in-boulder">
                  <span class="post-date">09 Jun 2015</span>
                  Bikes in Boulder
                </a>
              </li>

              <li class="post-link">
                <a class="post-title" href="/2014/08/30/save-us-princess">
                  <span class="post-date">30 Aug 2014</span>
                  Save us, Princess!
                </a>
              </li>

          </ul>
        </div>
        <div class="footer">
          <span id="footer-links">
            <a href="http://www.moishelettvin.com/" class="footer-link">About</a> <span class="separator">&bull;</span>
            <a href="http://www.twitter.com/moishel" class="footer-link">Twitter</a> <span class="separator">&bull;</span>
            <a href="http://www.github.com/moishe" class="footer-link">GitHub</a>
          </span>
        </div>
      </div>

        <div class="content" id="home">
  <div id="sidebar-button">
    <img src="/images/sidebar-button.png">
  </div>
  <div id="post-info">
    <div id="cover-photo-container">
      <img id="cover-photo" width="735" src="/images/remotes.png">
    </div>
    <div id="info-container">
      <h1 id="title">Remotes</h1>
      <span id="date">15 Oct 2015</span>
    </div>
  </div>

  <div class="post">
    <div id="code_hierarchy">&nbsp;</div>
    <h2>Background & Data</h2>
    <p>
    A couple of weeks ago, I posted on Twitter and asked remote employees to tell me, in one word,
    what the hardest thing about being a remote employee is.
    </p>
    <p>
    I ended up getting way more responses than I thought I would: over <a href='https://docs.google.com/spreadsheets/d/1qyOhesONP43zs-rqru4mS4qADMzqZXxbUJ4o4Q1cMqU/edit#gid=1456051512'>450 responses</a> (with an expected
    percentage of jokes; it is the internet, after all).
    </p>
    <p>
    I started by counting the number of times a particular word appeared, and discarding anything that only showed up once. This got rid of most of the obvious jokes/trolls, but left "pants," which received 7 (!) votes total. I manually discarded that, along with "nothing," which received 5 votes.
    </p>
    <p>
    I bucketed the data, in a highly subjective way (<a href='https://docs.google.com/spreadsheets/d/1V2UZIej-49FSrX4VamRB89PNB6fFYaQiPoNJBwG6qS8/edit?usp=sharing'>here's the raw data</a>), to try to look at some themes.
    </p>
    <p>
    Turns out, the themes aren't too hard to see. Before aggregation, communication (41 votes), loneliness (39 votes) and isolation (31 votes) are the Big 3.
    </p>
    <h2>Thoughts</h2>
  </div>
  <div class="colophon">
    <p>
      <span id="pub-date">Published on 15 Oct 2015</span> <span class="separator">&bull;</span>
      <span id="social">Find me on <a href="http://www.twitter.com/moishel">Twitter</a>!</span>
    </p>
  </div>
</div>



    </div>
    <!--<script src="/scripts/responsive.js" type="text/javascript"></script> -->
  </body>
</html>
